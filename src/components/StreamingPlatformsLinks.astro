---
import { getCollection } from "astro:content";
import svgLoader from "../utils/svgLoader.js";

// Cargar contenido estÃ¡tico desde las colecciones
const streamingPlatforms = await getCollection("streamingPlatforms");

export const prerender = false;
---

<ul id="streaming-platforms-static">
  {
    streamingPlatforms.map((platform: any) => {
      // Acceder a los atributos de la colecciÃ³n
      const { title, url, icon } = platform.data;

      const svgContent = icon ? svgLoader.getSvgContent(icon) : null;

      return (
        <li data-platform-id={title}>
          <a
            href={url}
            target="_blank"
            class="w-full justify-center font-semibold not-hover:text-white hover:text-indigo-600 hover:scale-105 hover:shadow-lg shadow-sm relative flex items-center px-4 py-3 mb-3 bg-neutral-900/10 border border-white/10 hover:border-transparent rounded-2xl hover:bg-neutral-950/50 cursor-pointer transition"
          >
            {svgContent ? (
              <div set:html={svgContent} class="streaming-platform-icon" />
            ) : (
              <span class="absolute inline-block left-4 text-sm">ðŸ“Œ</span>
            )}
            <span class="text-lg font-medium">{title}</span>
          </a>
        </li>
      );
    })
  }
</ul>
